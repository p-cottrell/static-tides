:root {
  --clr-dark: #000;
  --clr-light: #fff;
  --clr-accent: #cc83d4;
  --clr-accent-alt: #61dafb;
  --ff-space_mono: "Space Mono", monospace;

  --header-h: 65px;
  --footer-h: 65px;

  --fs-h1: 4.5rem;
  --fs-h2: 2.5rem;
  --fs-h3: 1.5rem;
  --fs-h4: 1.125rem;
  --fs-body: 1rem;
  --fs-small: 0.9rem;

  /* iOS safe areas (notch) */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

@media (max-width: 800px) {
  :root {
    --fs-h1: 3rem;
    --fs-h2: 2rem;
    --fs-h3: 1.25rem;
    --fs-h4: 1rem;
    --fs-body: 0.875rem;
    --fs-small: 0.775rem;
  }
}

.particles-canvas {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  margin: 0;
}

/* IMPORTANT:
   Don’t set global smooth scrolling. It interferes with route scroll resets.
   If you want smooth anchor scrolling later, do it selectively on anchor clicks. */
html {
  scroll-behavior: auto;
  scrollbar-gutter: stable both-edges;
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
  padding: 0;
  line-height: 1.6;
  color: var(--clr-light);
  background-color: var(--clr-dark);
  font-family: var(--ff-space_mono);
  font-size: var(--fs-body);

  /* stop “scroll chaining” feeling on mobile */
  overscroll-behavior: contain;
}

h1 {
  font-size: var(--fs-h1);
  font-weight: 400;
}
h2 {
  font-size: var(--fs-h2);
  font-weight: 400;
}
h3 {
  font-size: var(--fs-h3);
}
h4 {
  font-size: var(--fs-h4);
}

p {
  word-spacing: 1.4px;
}

/* ===============================
   MAIN CONTENT WINDOW (SCROLLER)
   =============================== */

.page-container {
  /* This is the usable “viewport” between fixed header and footer */
  height: calc(100dvh - var(--header-h) - var(--footer-h) - var(--safe-top) - var(--safe-bottom));
  height: calc(100svh - var(--header-h) - var(--footer-h) - var(--safe-top) - var(--safe-bottom));

  /* Offset so content starts below fixed header/footer */
  margin-top: calc(var(--header-h) + var(--safe-top));
  margin-bottom: calc(var(--footer-h) + var(--safe-bottom));

  /* Make THIS the scroller */
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;

  position: relative;
  z-index: 1;
}

/* Optional: helps prevent horizontal jiggle from transforms */
.route-wrapper {
  min-height: 100%;
}

/* ===============================
   TRANSITIONS
   =============================== */

.route-enter {
  opacity: 0;
  transform: translateY(15px) scale(0.98);
  filter: blur(6px);
}

.route-enter-active {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
  transition:
    opacity var(--route-ms, 520ms) ease,
    transform var(--route-ms, 520ms) cubic-bezier(.2,.7,.2,1),
    filter var(--route-ms, 520ms) ease;
}

.route-exit {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

.route-exit-active {
  opacity: 0;
  transform: translateY(-15px) scale(0.99);
  filter: blur(4px);
  transition:
    opacity var(--route-ms, 520ms) ease,
    transform var(--route-ms, 520ms) cubic-bezier(.2,.7,.2,1),
    filter var(--route-ms, 520ms) ease;
}

.route-enter,
.route-exit-active {
  will-change: transform, opacity, filter;
  contain: paint;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
}

@media (max-width: 767px) {
  .route-enter-active,
  .route-exit-active {
    --route-ms: 240ms;
  }
}

@media (prefers-reduced-motion: reduce) {
  .route-enter,
  .route-exit,
  .route-enter-active,
  .route-exit-active {
    transition: none !important;
    transform: none !important;
    filter: none !important;
  }
}
